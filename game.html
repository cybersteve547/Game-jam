<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <a href="levels.html" class="text link">Back to levels</a>
    <br>
    <canvas id="canvas1" width="256" height="128"></canvas>
    <script>
      const url = new URL(window.location.href);
      const canvas1 = document.getElementById("canvas1");
      const ctx = canvas1.getContext("2d");
      const spritesheet = new Image();
      spritesheet.src = "images/spritesheet.png"
      const level = url.searchParams.get("level");
      let px = 0;
      let py = 0;
      const script = document.createElement("script");
      script.src = `lv1.js`;
      document.body.appendChild(script);

      function tick(timestamp) {
        ctx.drawImage(spritesheet, 0, 0, 16, 16, px, 0, 32, 32);
        px++;
        requestAnimationFrame(tick);
      }

      requestAnimationFrame(tick);
    </script>
  </body>
</html>
